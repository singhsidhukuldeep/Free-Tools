import{r as i,j as e,H as D,a as F}from"./index-CQMLJ7Q6.js";import{u as P}from"./index-DRM3jiyV.js";import{P as v}from"./PDFButton-D4yyDF6N.js";import{A as S}from"./alert-circle-DQ6KF-rh.js";import{U as w}from"./upload-R_8DWVxE.js";import{F as C}from"./file-text-D1uZDVRf.js";import{D as k}from"./download-4l5LXgPK.js";const U=()=>{const[s,a]=i.useState(null),[n,l]=i.useState(!1),[o,d]=i.useState(null),[c,u]=i.useState(0),[m,p]=i.useState(0),x=async t=>{const r=t[0];r&&r.type==="application/pdf"&&(a(r),u(r.size),d(null),p(0))},{getRootProps:g,getInputProps:h,isDragActive:y}=P({onDrop:x,accept:{"application/pdf":[".pdf"]},multiple:!1}),j=async()=>{if(s){l(!0);try{const t=await s.arrayBuffer(),r=await v.load(t);r.setTitle(""),r.setAuthor(""),r.setSubject(""),r.setKeywords([]),r.setProducer(""),r.setCreator("");const z=await r.save({useObjectStreams:!1}),f=new Blob([z],{type:"application/pdf"});d(f),p(f.size)}catch(t){console.error(t),alert("Error compressing PDF")}finally{l(!1)}}},b=()=>{if(!o)return;const t=document.createElement("a");t.href=URL.createObjectURL(o),t.download=`compressed-${s.name}`,document.body.appendChild(t),t.click(),document.body.removeChild(t)};return e.jsxs(e.Fragment,{children:[e.jsxs(D,{children:[e.jsx("title",{children:"Compress PDF - Optimize PDF File Size Online"}),e.jsx("meta",{name:"description",content:"Reduce PDF file size online continuously. Remove metadata and optimize structure for web sharing. Free and secure."})]}),e.jsx("div",{className:"container",style:{padding:"3rem 1.5rem"},children:e.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[e.jsxs("header",{style:{marginBottom:"3rem",textAlign:"center"},children:[e.jsx("h1",{style:{fontSize:"2.5rem",fontWeight:"800",marginBottom:"0.5rem"},children:"Compress PDF"}),e.jsx("p",{style:{color:"#64748b"},children:"Optimize your PDF files for faster loading."})]}),e.jsxs("div",{style:{background:"#f0f9ff",border:"1px solid #bae6fd",color:"#0369a1",padding:"1rem",borderRadius:"0.5rem",marginBottom:"2rem",display:"flex",gap:"0.75rem"},children:[e.jsx(S,{size:20,style:{flexShrink:0,marginTop:"2px"}}),e.jsxs("p",{style:{fontSize:"0.875rem"},children:["This client-side tool optimizes PDF structure and removes metadata. For significant file size reduction of creating heavy image-based PDFs, try our",e.jsx("a",{href:"/pdf-to-jpg",style:{textDecoration:"underline",marginLeft:"4px"},children:"PDF to JPG"})," tool."]})]}),e.jsx("div",{style:{background:"white",border:"1px solid var(--border)",borderRadius:"1rem",padding:"2rem"},children:s?e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx(C,{size:24,color:"var(--primary)"}),e.jsxs("div",{children:[e.jsx("p",{style:{fontWeight:"600"},children:s.name}),e.jsxs("p",{style:{fontSize:"0.875rem",color:"#64748b"},children:["Original: ",(c/1024).toFixed(1)," KB"]})]})]}),e.jsx("button",{onClick:()=>a(null),style:{color:"#ef4444",background:"none",border:"none",cursor:"pointer"},children:"Remove"})]}),o&&e.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"1rem",background:"#ecfdf5",borderRadius:"0.5rem",color:"#047857"},children:[e.jsx("p",{style:{fontWeight:"600",fontSize:"1.125rem"},children:"Compression Complete!"}),e.jsxs("p",{children:["New Size: ",(m/1024).toFixed(1)," KB (",Math.round((1-m/c)*100),"% saved)"]})]}),e.jsx("button",{onClick:o?b:j,disabled:n,className:"btn-primary",style:{width:"100%",padding:"1rem",background:"var(--primary)",color:"white",border:"none",borderRadius:"0.5rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",opacity:n?.7:1},children:n?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"spin",size:20})," Optimizing..."]}):o?e.jsxs(e.Fragment,{children:[e.jsx(k,{size:20})," Download Optimized PDF"]}):"Compress PDF"})]}):e.jsxs("div",{...g(),style:{border:"2px dashed var(--border)",borderRadius:"0.75rem",padding:"3rem 2rem",textAlign:"center",cursor:"pointer",background:y?"var(--secondary)":"#f8fafc"},children:[e.jsx("input",{...h()}),e.jsx(w,{size:32,style:{color:"#64748b",marginBottom:"1rem"}}),e.jsx("p",{style:{fontWeight:"500"},children:"Drag & Drop PDF or Click to Upload"})]})})]})})]})};export{U as default};
