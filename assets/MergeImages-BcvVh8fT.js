import{c as w,r as d,j as e,H as $,X as q}from"./index-CQMLJ7Q6.js";import{u as X}from"./index-DRM3jiyV.js";import{U as E}from"./upload-R_8DWVxE.js";import{M as G}from"./maximize-2-ZCTujuQw.js";import{D as Y}from"./download-4l5LXgPK.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=w("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=w("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=w("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=w("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=w("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),ie=()=>{const[h,f]=d.useState([]),[l,g]=d.useState({direction:"vertical",sizing:"magnify",border:0,gap:0,finalShadow:!1,individualShadow:!1}),[b,y]=d.useState(null),[D,L]=d.useState(!1),H=d.useCallback(a=>{const n=a.map(r=>({id:Math.random().toString(36).substr(2,9),file:r,preview:URL.createObjectURL(r)}));f(r=>[...r,...n])},[]),{getRootProps:U,getInputProps:O,isDragActive:R}=X({onDrop:H,accept:{"image/*":[]}}),C=d.useCallback(a=>{const n=(a.clipboardData||a.originalEvent.clipboardData).items,r=[];for(const o of n)if(o.type.indexOf("image")!==-1){const u=o.getAsFile();r.push({id:Math.random().toString(36).substr(2,9),file:u,preview:URL.createObjectURL(u)})}r.length>0&&f(o=>[...o,...r])},[]);d.useEffect(()=>(window.addEventListener("paste",C),()=>window.removeEventListener("paste",C)),[C]);const W=a=>{f(n=>n.filter(r=>r.id!==a))},V=()=>{f([]),y(null)},P=d.useCallback(async()=>{if(h.length<2){y(null);return}L(!0);try{const a=await Promise.all(h.map(s=>new Promise(i=>{const t=new Image;t.onload=()=>i({element:t,width:t.naturalWidth,height:t.naturalHeight}),t.src=s.preview}))),{direction:n,sizing:r,border:o,gap:u,individualShadow:B,finalShadow:F}=l,c=n==="vertical";let p=0;r==="magnify"?p=Math.max(...a.map(s=>c?s.width:s.height)):r==="reduce"&&(p=Math.min(...a.map(s=>c?s.width:s.height)));let N=(h.length-1)*u+2*o,x=0;const T=a.map(s=>{let i=s.width,t=s.height;if(r!=="none")if(c){const S=p/s.width;i=p,t=s.height*S}else{const S=p/s.height;t=p,i=s.width*S}return c?(N+=t,x=Math.max(x,i)):(N+=i,x=Math.max(x,t)),{...s,scaledW:i,scaledH:t}}),v=document.createElement("canvas"),m=v.getContext("2d"),k=c?x+2*o:N,I=c?N:x+2*o;v.width=k,v.height=I;const M=20,j=5;let z=o;if(T.forEach(s=>{const i=c?(k-s.scaledW)/2:z,t=c?z:(I-s.scaledH)/2;B?(m.save(),m.shadowColor="rgba(0,0,0,0.3)",m.shadowBlur=M,m.shadowOffsetX=j,m.shadowOffsetY=j,m.drawImage(s.element,i,t,s.scaledW,s.scaledH),m.restore()):m.drawImage(s.element,i,t,s.scaledW,s.scaledH),z+=(c?s.scaledH:s.scaledW)+u}),F){const s=document.createElement("canvas"),i=s.getContext("2d"),t=M+j;s.width=k+t*2,s.height=I+t*2,i.shadowColor="rgba(0,0,0,0.5)",i.shadowBlur=M,i.shadowOffsetX=j,i.shadowOffsetY=j,i.drawImage(v,t,t),y(s.toDataURL("image/png"))}else y(v.toDataURL("image/png"))}catch(a){console.error("Merge error:",a)}finally{L(!1)}},[h,l]);d.useEffect(()=>{P()},[h,l,P]);const A=()=>{if(!b)return;const a=document.createElement("a");a.href=b,a.download=`merged-images-${Date.now()}.png`,a.click()};return e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsx("title",{children:"Merge Images - Modern Image Combiner"}),e.jsx("meta",{name:"description",content:"Combine multiple images horizontally or vertically. Paste directly into the tool. Custom borders, gaps, and shadows."})]}),e.jsxs("div",{className:"container merge-tool-container",children:[e.jsxs("div",{className:"merge-header",children:[e.jsx("h1",{children:"Merge Images"}),e.jsxs("p",{className:"tool-description",children:["Combine multiple photos into one clean asset.",e.jsx("strong",{children:" Just press Cmd+V to paste"}),", drag and drop, or upload."]})]}),e.jsx("div",{className:"merge-card",children:e.jsxs("div",{className:"merge-layout",children:[e.jsxs("div",{className:"options-panel",children:[e.jsxs("div",{...U(),className:`paste-drop-zone ${R?"active":""}`,children:[e.jsx("input",{...O()}),e.jsx(E,{size:32,className:"text-primary"}),e.jsxs("p",{children:["Click, Drag, or ",e.jsx("strong",{children:"Paste (Cmd+V)"})]})]}),h.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"image-list",children:h.map(a=>e.jsxs("div",{className:"image-thumb",children:[e.jsx("img",{src:a.preview,alt:"Thumb"}),e.jsx("button",{className:"remove-thumb",onClick:()=>W(a.id),children:e.jsx(q,{size:12})})]},a.id))}),e.jsxs("div",{className:"option-group",children:[e.jsxs("label",{children:[e.jsx(K,{size:14})," Stacking Direction"]}),e.jsxs("div",{className:"btn-toggle-group",children:[e.jsx("button",{className:`toggle-btn ${l.direction==="vertical"?"active":""}`,onClick:()=>g(a=>({...a,direction:"vertical"})),children:"Vertical"}),e.jsx("button",{className:`toggle-btn ${l.direction==="horizontal"?"active":""}`,onClick:()=>g(a=>({...a,direction:"horizontal"})),children:"Horizontal"})]})]}),e.jsxs("div",{className:"option-group",children:[e.jsxs("label",{children:[e.jsx(G,{size:14})," Sizing Strategy"]}),e.jsxs("select",{className:"select-input",value:l.sizing,onChange:a=>g(n=>({...n,sizing:a.target.value})),children:[e.jsx("option",{value:"magnify",children:"Magnify the smallest"}),e.jsx("option",{value:"reduce",children:"Reduce the biggest"}),e.jsx("option",{value:"none",children:"Do not adjust"})]})]}),e.jsxs("div",{className:"option-group",children:[e.jsxs("label",{children:[e.jsx(_,{size:14})," Border (px)"]}),e.jsxs("div",{className:"range-with-val",children:[e.jsx("input",{type:"range",min:"0",max:"100",value:l.border,onChange:a=>g(n=>({...n,border:parseInt(a.target.value)}))}),e.jsx("span",{className:"range-val",children:l.border})]})]}),e.jsxs("div",{className:"option-group",children:[e.jsxs("label",{children:[e.jsx(Z,{size:14})," Gap between images"]}),e.jsxs("div",{className:"range-with-val",children:[e.jsx("input",{type:"range",min:"0",max:"200",value:l.gap,onChange:a=>g(n=>({...n,gap:parseInt(a.target.value)}))}),e.jsx("span",{className:"range-val",children:l.gap})]})]}),e.jsx("div",{className:"option-group",children:e.jsxs("div",{className:"switch-group",children:[e.jsxs("label",{children:[e.jsx(J,{size:14})," Individual Shadows"]}),e.jsx("input",{type:"checkbox",checked:l.individualShadow,onChange:a=>g(n=>({...n,individualShadow:a.target.checked}))})]})}),e.jsx("div",{className:"option-group",children:e.jsxs("div",{className:"switch-group",children:[e.jsxs("label",{children:[e.jsx(Q,{size:14})," Final Image Shadow"]}),e.jsx("input",{type:"checkbox",checked:l.finalShadow,onChange:a=>g(n=>({...n,finalShadow:a.target.checked}))})]})}),e.jsx("button",{className:"action-icon-btn",style:{marginTop:"1rem",width:"100%"},onClick:V,children:"Clear All Images"})]})]}),e.jsxs("div",{className:"preview-container",children:[h.length>=2?e.jsx("div",{className:"preview-canvas-wrapper",children:D?e.jsx("div",{className:"empty-preview",children:"Generating..."}):e.jsx("img",{src:b,alt:"Merged Preview",className:"merged-image-preview"})}):e.jsxs("div",{className:"empty-preview",children:[e.jsx(E,{size:48}),e.jsx("p",{children:"Add at least 2 images to see preview"})]}),b&&!D&&e.jsx("div",{className:"download-section",children:e.jsxs("button",{className:"merge-download-btn",onClick:A,children:[e.jsx(Y,{size:20})," Download Merged Image"]})})]})]})})]})]})};export{ie as default};
